<!-- cell formatting macro -->
{% macro format_cell(row, col) %}
    {% set cell_val = row[col] %}
    {% if row.field != 'float' and row.field is defined %}
        {% if row.type == 't' %}
            {{ cell_val }}%
        {% else %}
            {{ cell_val }}
        {% endif %}
    {% else %}
        {% set val = cell_val|float %}
        {% if val == 0 %}
            $0.00
        {% elif val < 0 %}
            -${{ "{:,.2f}".format(-val) }}
        {% else %}
            ${{ "{:,.2f}".format(val) }}
        {% endif %}
    {% endif %}
{% endmacro %}


<!-- send config data to scripts -->
<script id="config-data" type="application/json">
    {{ config_js|tojson }}
</script>


<!-- budget table-->
<div id="budget">
    <table id="budget-table" class="styled-table">
        <thead>
        <tr>
            <th></th>
            {% for month in month_headers %}
            <th>{{ month }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in budget %}
            <tr>
                <td>{{ row.header }}</td>
                {% for month in month_headers %}
                    <td>{{ row[month] }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

