{% extends "base.html" %}
{% block content %}

<!-- send config data to scripts -->
<script id="config-data" type="application/json">
    {{ config_js | tojson }}
</script>


<div id="home">
    <div id="welcome">
        Welcome to PayLES, the program analyzing your U.S. Military Leave & Earnings Statement (LES)
    </div>

    <div id="tab-container">
        <div id="tab-button-row">
            <button class="button-tab active" data-tab="tab-single">Single LES Upload</button>
            <button class="button-tab" data-tab="tab-joint">Joint Spouse</button>
            <button class="button-tab" data-tab="tab-manual">Build Without LES</button>
            <button class="button-tab" data-tab="tab-example">Instructions & Example</button>
        </div>

        <div id="tab-single" class="tab-content active">
            <form id="form-single" hx-post="/route_single" hx-swap="innerHTML" enctype="multipart/form-data" method="POST">
                {{ form_single.hidden_tag() }}
                <label id="input-filedrop" for="input-file-single">
                    <span>Drop LES here</span>
                    or
                    {{ form_single.input_file_single(id="input-file-single", accept=".pdf") }}
                </label>
                {{ form_single.button_single(id="button-single", class="button-generic button-positive") }}
            </form>
        </div>

        <div id="tab-joint" class="tab-content">
            <form id="form-joint" hx-post="/route_joint" hx-swap="innerHTML" enctype="multipart/form-data" method="POST">
                {{ form_joint.hidden_tag() }}
                <div id="tab-joint-row">
                    <div>
                        <span>Upload Member 1 LES</span>
                        {{ form_joint.input_file_joint1(id="input-file-joint1", accept=".pdf") }}
                    </div>
                    <div>
                        <span>Upload Member 2 LES</span>
                        {{ form_joint.input_file_joint2(id="input-file-joint2", accept=".pdf") }}
                    </div>
                </div>
                {{ form_joint.button_joint(id="button-joint", class="button-generic button-positive") }}
            </form>
        </div>

        <div id="tab-manual" class="tab-content">
            <div id="manual-title">Building budget for {{ CURRENT_MONTH_LONG }} {{ CURRENT_YEAR }}</div>
            <form id="form-manuals">

                <table class="table-manuals">
                    <tr>
                        <td>Pay Entry Base Date:</td>
                        <td>
                            <div id="manuals-years-location"></div>
                            <div id="manuals-months-location"></div>
                            <span class="tooltip-question tooltip" data-tooltip=
                            "Pay Entry Base Date (PEBD), used to calculate months in service">
                            ?</span>
                        </td>
                        <td>Home of Record</td>
                        <td><div id="manuals-home-of-record-location"></div></td>
                    </tr>
                    <tr>
                        <td>Branch:</td>
                        <td><div id="manuals-branch-location"></div></td>
                        <td>Dependents:</td>
                        <td><div id="manuals-dependents-location"></div></td>
                    </tr>
                    <tr>
                        <td>Component:</td>
                        <td><div id="manuals-component-location"></div></td>
                        <td>Federal Filing Status:</td>
                        <td><div id="manuals-federal-filing-status-location"></div></td>
                    </tr>
                    <tr>
                        <td>Grade:</td>
                        <td><div id="manuals-grade-location"></div></td>
                        <td>State Filing Status:</td>
                        <td><div id="manuals-state-filing-status-location"></div></td>
                    </tr>
                    <tr>
                        <td>Drills:</td>
                        <td><div id="manuals-drills-location"></div></td>
                        <td>SGLI Coverage:</td>
                        <td><div id="manuals-sgli-coverage-location"></div></td>
                    </tr>
                    <tr class="table-manuals-spacer"><td colspan="4"></td></tr>
                    <tr>
                        <td>Zip Code:</td>
                        <td><div id="manuals-zipcode-location"></div></td>
                        <td>OCONUS Location:</td>
                        <td>
                            <div id="manuals-oconus-country-location"></div>
                            <div id="manuals-oconus-locality-location"></div>
                        </td>
                    </tr>
                </table>

                <div class="manuals-dropdown">
                    <input class="manuals-dropdown-checkbox" id="manuals-dropdown-tsp" type="checkbox">
                    <label class="manuals-dropdown-label" for="manuals-dropdown-tsp">Thrift Savings Plan (TSP) Inputs</label>
                    <div class="manuals-dropdown-content">
                        <table class="table-manuals">
                            <tr>
                                <td colspan="2" style="text-align:center;">Traditional TSP</td>
                                <td colspan="2" style="text-align:center;">Roth TSP</td>
                            </tr>
                            <tr>
                                <td>Base Rate:</td>
                                <td><div id="manuals-trad-base-rate-location"></div></td>
                                <td>Base Rate:</td>
                                <td><div id="manuals-roth-base-rate-location"></div></td>
                            </tr>
                            <tr>
                                <td>Specialty Rate:</td>
                                <td><div id="manuals-trad-specialty-rate-location"></div></td>
                                <td>Specialty Rate:</td>
                                <td><div id="manuals-roth-specialty-rate-location"></div></td>
                            </tr>
                            <tr>
                                <td>Incentive Rate:</td>
                                <td><div id="manuals-trad-incentive-rate-location"></div></td>
                                <td>Incentive Rate:</td>
                                <td><div id="manuals-roth-incentive-rate-location"></div></td>
                            </tr>
                            <tr>
                                <td>Bonus Rate:</td>
                                <td><div id="manuals-trad-bonus-rate-location"></div></td>
                                <td>Bonus Rate:</td>
                                <td><div id="manuals-roth-bonus-rate-location"></div></td>
                            </tr>
                            <tr class="table-manuals-spacer"><td colspan="4"></td></tr>
                            <tr>
                                <td>YTD Pre-Tax Contribution:</td>
                                <td><div id="manuals-trad-ytd-location"></div></td>
                                <td>YTD Post-Tax Contribution:</td>
                                <td><div id="manuals-roth-ytd-location"></div></td>
                            </tr>
                            <tr>
                                <td>YTD Exempt Contribution:</td>
                                <td><div id="manuals-trad-exempt-ytd-location"></div></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="table-manuals-spacer"><td colspan="4"></td></tr>
                            <tr>
                                <td>YTD Agency Match:</td>
                                <td><div id="manuals-agency-match-ytd-location"></div></td>
                                <td>YTD Agency Contribution:</td>
                                <td><div id="manuals-agency-auto-ytd-location"></div></td>
                            </tr>
                        </table>
                    </div>
                </div>


                <button id="button-manuals" class="button-generic button-positive">Submit</button>
            </form>
        </div>

        <div id="tab-example" class="tab-content">
            PayLES is designed to build a personalized budget directly from your latest LES. For the best experience, please go to <a href="https://mypay.dfas.mil" target="_blank">MyPay.mil</a> to download your LES as a pdf and upload it under the Single LES tab. If you do not have access to an LES or would just like to view an example LES and budget, then click the button below.
            <br /><br />
            For more information, please check out the <a href="/about">About</a> and <a href="/faq">FAQ</a> pages.
            
            <form id="form-example" hx-post="/route_single" hx-swap="innerHTML" method="POST">
                {{ form_single.hidden_tag() }}
                {{ form_single.button_example(id="button-example", class="button-generic button-positive") }}
            </form>
        </div>
    </div>

    <div id="disclaimer">
        <strong>Disclaimer:</strong> PayLES is not an official Department of Defense (DoD) or U.S. military service 
        application. It is a personal project developed by an active duty service member for educational and budgetary 
        awareness. The data provided by PayLES is for informational purposes only and should not be considered 
        official financial advice. Always consult with your finance office or a qualified financial advisor for 
        official guidance regarding your military pay and benefits.
    </div>
</div>

{% endblock %}