{% extends "base.html" %}
{% block content %}

<div id="home">
    <p class="text-large">
        Welcome to PayLES, the program analyzing your U.S. Military Leave & Earnings Statement (LES)
    </p>
    <p class="text-mid">
        Please select the appropriate option below to get started.
    </p>

    <div id="tab-container" class="shadow">
        <div id="tab-buttons">
            <button class="tab-button active" data-tab="single-les">Upload Single LES</button>
            <button class="tab-button" data-tab="joint-les">Upload Joint Spouse</button>
            <button class="tab-button" data-tab="without-les">Begin Without LES</button>
            <button class="tab-button" data-tab="example-les">Instructions & Example</button>
        </div>

        <div id="tab-single-les" class="tab-content">
            <form id="form-single-les" hx-post="/submit_single_les" hx-swap="innerHTML" enctype="multipart/form-data" method="POST">
                {{ form_single_les.hidden_tag() }}
                <label id="single-drop" for="{{ form_single_les.single_les_input.id }}">
                    <span class="text-mid">Drop LES here</span>
                    or
                    {{ form_single_les.single_les_input(id="single_les_input", class="form-control", accept=".pdf") }}
                </label>
                {{ form_single_les.submit_single_les(id="button-single", class="button-solo") }}
            </form>
        </div>

        <div id="tab-joint-les" class="tab-content">
            <form id="form-joint-les" hx-post="/submit_joint_les" hx-swap="innerHTML" enctype="multipart/form-data" method="POST">
                {{ form_joint_les.hidden_tag() }}
                <div class="joint-les-row">
                    <div>
                        <span>Upload Member 1 LES</span>
                        {{ form_joint_les.joint_les_input_1(id="joint_les_input_1", class="form-control", accept=".pdf") }}
                    </div>
                    <div>
                        <span>Upload Member 2 LES</span>
                        {{ form_joint_les.joint_les_input_2(id="joint_les_input_2", class="form-control", accept=".pdf") }}
                    </div>
                </div>
                {{ form_joint_les.submit_joint_les(id="button-joint", class="button-solo") }}
            </form>
        </div>

        <div id="tab-without-les" class="tab-content">
            <div class="budget-date-header">
                Building budget for {{ current_month_name }} {{ current_year }}
            </div>
            <form id="form-without-les" hx-post="/submit_without_les" hx-swap="innerHTML" method="POST">
                {{ form_without_les.hidden_tag() }}
                <div id="variables-inputs">
                    <label for="grade">Grade:</label>
                    {{ form_without_les.grade(class="form-control") }}

                    <label for="zip_code">Zip Code:</label>
                    {{ form_without_les.zip_code(class="form-control", maxlength="5", pattern="\d{5}") }}

                    <label for="home_of_record">Home of Record:</label>
                    {{ form_without_les.home_of_record(class="form-control") }}

                    <label for="dependents">Dependents:</label>
                    {{ form_without_les.dependents(class="form-control", maxlength="1", pattern="\d") }}

                    <label for="federal_filing_status">Federal Filing Status:</label>
                    {{ form_without_les.federal_filing_status(class="form-control") }}

                    <label for="state_filing_status">State Filing Status:</label>
                    {{ form_without_les.state_filing_status(class="form-control") }}

                    <label for="sgli_coverage">SGLI Coverage:</label>
                    {{ form_without_les.sgli_coverage(class="form-control") }}
                </div>
                {{ form_without_les.submit_without_les(id="button-without", class="button-solo") }}
            </form>
        </div>

        <div id="tab-example-les" class="tab-content">
            <div id="example-content">
                <p>Click 'submit' to see the example LES. The instructions overlay will also be presented, however this can be toggled on or off.</p>
                <form id="form-example-les" hx-post="/submit_example_les" hx-swap="innerHTML" method="POST">
                    <button type="submit" class="button-solo">Submit</button>
                </form>
            </div>
        </div>
    </div>

    <div id="disclaimer">
        <p>
            <strong>Disclaimer:</strong> PayLES is not an official Department of Defense (DoD) or U.S. military service 
            application. It is a personal project developed by an active duty service member for educational and budgetary 
            awareness. The information provided by PayLES is for informational purposes only and should not be considered 
            official financial advice. Always consult with your finance office or a qualified financial advisor for 
            official guidance regarding your military pay and benefits.
        </p>
    </div>
</div>

<!--
<script>
    document.addEventListener('DOMContentLoaded', function() {
        if (window.attachHomeFormListener) {
            window.attachHomeFormListener();
        }
    });
</script>
-->

{% endblock %}